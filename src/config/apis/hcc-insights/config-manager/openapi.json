{"components":{"parameters":{"Limit":{"description":"Maximum number of results to return","in":"query","name":"limit","schema":{"default":50,"maximum":200,"minimum":1,"type":"integer"}},"Offset":{"description":"Indicates the starting position of the query relative to the complete set of items that match the query","in":"query","name":"offset","schema":{"default":0,"minimum":0,"type":"integer"}},"SortBy":{"in":"query","name":"sort_by","schema":{"enum":["created_at","created_at:asc","created_at:desc"],"type":"string"}},"StateIDParam":{"description":"state archive identifier","in":"path","name":"id","required":true,"schema":{"$ref":"#/components/schemas/StateID"}}},"schemas":{"Account":{"maxLength":10,"minLength":1,"type":"string"},"AccountState":{"properties":{"account":{"$ref":"#/components/schemas/Account"},"apply_state":{"$ref":"#/components/schemas/ApplyState"},"id":{"$ref":"#/components/schemas/StateID"},"label":{"$ref":"#/components/schemas/Label"},"org_id":{"$ref":"#/components/schemas/OrgID"},"state":{"$ref":"#/components/schemas/State"}},"type":"object"},"ApplyState":{"type":"boolean"},"Initiator":{"type":"string"},"Label":{"type":"string"},"OrgID":{"type":"string"},"State":{"additionalProperties":false,"properties":{"compliance_openscap":{"enum":["enabled","disabled"],"type":"string"},"insights":{"enum":["enabled","disabled"],"type":"string"},"remediations":{"enum":["enabled","disabled"],"type":"string"}},"required":["insights","compliance_openscap","remediations"],"type":"object"},"StateArchive":{"properties":{"account":{"$ref":"#/components/schemas/Account"},"created_at":{"$ref":"#/components/schemas/Timestamp"},"id":{"$ref":"#/components/schemas/StateID"},"initiator":{"$ref":"#/components/schemas/Initiator"},"label":{"$ref":"#/components/schemas/Label"},"org_id":{"$ref":"#/components/schemas/OrgID"},"state":{"$ref":"#/components/schemas/State"}},"type":"object"},"StateArchives":{"properties":{"count":{"description":"A number of entries returned from offset","type":"integer"},"limit":{"description":"A max number of entries to return","type":"integer"},"offset":{"description":"A number representing he starting point for retrieving entries","type":"integer"},"results":{"description":"Query results","items":{"$ref":"#/components/schemas/StateArchive"},"type":"array"},"total":{"description":"A total count of found entries","type":"integer"}},"type":"object"},"StateID":{"format":"uuid","type":"string"},"Timestamp":{"format":"date-time","type":"string"}}},"info":{"description":"Config manager service","title":"Config manager","version":"0.0.1"},"openapi":"3.0.0","paths":{"/manage":{"post":{"description":"Send an HTTP POST method to this path to enable or disable automatic\nmanagement of remote hosts. The request body must be set to either\n`true` or `false`.\n","operationId":"PostManage","requestBody":{"content":{"application/json":{"schema":{"type":"boolean"}}}},"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"}},"summary":"Enable or disable automatic state management of remote hosts"}},"/states":{"get":{"operationId":"GetStates","parameters":[{"$ref":"#/components/parameters/Limit"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/SortBy"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateArchives"}}},"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Authentication missing from request"},"500":{"description":"Internal Server Error"}},"summary":"Get archive of state changes for requesting account"},"post":{"operationId":"UpdateStates","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/State"}}},"description":"State map that needs to be updated","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountState"}}},"description":"OK"},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}},"summary":"Update and roll out configuration state for requesting account"}},"/states/current":{"get":{"operationId":"GetCurrentState","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountState"}}},"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Authentication missing from request"},"500":{"description":"Internal Server Error"}},"summary":"Get the current state for requesting account"}},"/states/preview":{"post":{"operationId":"GetPlaybookPreview","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/State"}}},"description":"State map used to generate a preview playbook","required":true},"responses":{"200":{"content":{"text/vnd.yaml":{"schema":{"type":"string"}}},"description":"OK"},"400":{"description":"Bad Request"}},"summary":"Get a preview of the playbook built from the provided state map"}},"/states/{id}":{"get":{"operationId":"GetStateById","parameters":[{"$ref":"#/components/parameters/StateIDParam"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateArchive"}}},"description":"OK"},"400":{"description":"Bad Request"}},"summary":"Get single state change for requesting account"}},"/states/{id}/playbook":{"get":{"operationId":"GetPlaybookById","parameters":[{"$ref":"#/components/parameters/StateIDParam"}],"responses":{"200":{"content":{"text/vnd.yaml":{"schema":{"type":"string"}}},"description":"OK"},"400":{"description":"Bad Request"}},"summary":"Get ansible playbook for current state configuration"}}},"servers":[{"description":"production","url":"https://cloud.redhat.com/api/config-manager/v1"},{"description":"relative path","url":"/api/config-manager/v1"}]}
